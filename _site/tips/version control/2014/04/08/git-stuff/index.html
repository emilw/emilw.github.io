<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="UTF-8">
  <link href="http://gmpg.org/xfn/11" rel="profile">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      GIT stuff &middot; KnowledgeLog
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/atom+xml" title="KnowledgeLog" href="/atom.xml">
</head>


  <body>

    <div class="container content">
      <header class="masthead">
        <h3 class="masthead-title">
          <a href="/" title="Home">KnowledgeLog</a>
          <small>Log stuff</small>
        </h3>
      </header>

      <main>
        <article class="post">
  <h1 class="post-title">GIT stuff</h1>
  <time datetime="2014-04-08T13:45:12+02:00" class="page-date">08 Apr 2014</time>
  <p><strong>Create a new repo</strong>
Move to the directory where you have your existing project
`
$git init directory
$git add .
$git commit -m ‘First commit’
$git rm –cached FilesToTakeAwayFromStagingButNotFromDisk//Typically generated files
$git remote add origin https://github.com/user/Repo.git
$git push
`</p>

<p><strong>General about the file tracking</strong>
The file tracking works as the following. The sequence below will show how a file is treated all the way to the remote origin/master.
FileA.cpp is changed, one line is added with “//Hello”
`
$git status
`
Will show that one file is untracked
`
$git add FileA.cpp
$git status
`
The file FileA.cpp is added to the staging index.
The file FileA.cpp is changed again, with a new line “//Dude” added after “//Hello”.
`
$git status
`
Will show that FileA.cpp is shown in the staged section and in the untracked section.
`
$git diff
`
Will show the difference between “//Dude” and “//Hello”
`
$git diff origin/master
`
Will show the difference between point zero(Before “//Dude” was added) and “//Dude \n //Hello”.</p>

<p><code>
$git commit -m "A really important change"
$git status
</code>
Will show that there is one commit done.
Still the change where “//Hello” is untracked and will show up.</p>

<p>So where are we?
`
$git diff //Shows the diff between unstaged and staged
$git diff master //Shows the diff between unstaged and master
$git diff origin/master //Shows the diff between unstaged and the remote origin/master
`</p>

<p><strong>Branching/Merging</strong>
Some information about how to branch and how to merge:</p>

<p>`
$git branch //Show all branches
$git branch add TestBranch //Adds the branch TestBranch
$git checkout TestBranch //Switch to TestBranch
//Changing a file, staging it and committing it to the TestBranch
$git checkout master //Switching to master
$git show-ref //Shows the pointers in the different branches. Note that it points to different for the different branches
$git merge TestBranch //Merge the commit from TestBranch
$git show-ref //Now you can see that the pointers for Master and TestBranch point to the same commit</p>

<p>$git push –all -u //Pushes all branches in the repository to the central repo. This will send the newly created branch from above</p>

<p>//Clean up after fixing is done
$git branch -d TestBranch //Remove the local branch
$git branch -d -r origin/TestBranch //Remove the local tracking references
$git push origin :TestBranch //Delete TestBranch from server</p>

<p>`</p>

<p><strong>Mixed stuff</strong>
Some nice to have commands:
`
$git log –pretty=oneline //Shows the history in a nicer way</p>

<p>//Resetting commits and moving Header pointer
git reset –hard HEAD~1 //Moves the pointer to the last commit and leaves the working tree in that state
git reset HEAD~1 //Same as above, but all files stays in the working file directory
git reset –soft HEAD~1 //Same as above, but even the indexes stays. Run commit again and the same commit is created without adding any files to the index.</p>

<p>$git reset  //Will move the HEAD pointer to the commit specified. Same as undoing a commit.
$git log –stat //To see how much is changed in different files
$git commit –amend //Adds the staged files to the latest commit. Good if you forgot to add a file to the index before committing.
$git push origin –delete FeatureBranch1 //Deletes the branch in the remote repository
$git branch -d FeatureBranch1 //Removes the branch locally
$git branch -d -r origin/FeatureBranch1 //Removes the reference to the remote branch, at next pull it will get updated again</p>

<p>`</p>

<p><strong>References/Good resources</strong>
- http://git-scm.com/book/en/Git-Branching-Basic-Branching-and-Merging
- https://github.com/Kunena/Kunena-Forum/wiki/Create-a-new-branch-with-git-and-manage-branches</p>

</article>

<aside class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="//c++/2014/11/01/make-files-recap/">
            Make files recap
            <small><time datetime="2014-11-01T17:16:13+01:00">01 Nov 2014</time></small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="//tips/version%20control/2014/11/01/git-keeping-feature-branch-up-to-date-with-master/">
            GIT keeping feature branch up to date with master
            <small><time datetime="2014-11-01T17:10:06+01:00">01 Nov 2014</time></small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="//tips/version%20control/2014/10/28/git-stash/">
            GIT Stash
            <small><time datetime="2014-10-28T12:39:55+01:00">28 Oct 2014</time></small>
          </a>
        </h3>
      </li>
    
  </ul>
</aside>

      </main>

      <footer class="footer">
        <small>
          &copy; <time datetime="2015-06-22T13:39:33+02:00">2015</time>. All rights reserved.
        </small>
      </footer>
    </div>

  </body>
</html>
